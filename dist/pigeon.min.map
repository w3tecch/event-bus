{"version":3,"sources":["webpack:///pigeon.min.js","webpack:///webpack/bootstrap 8d3581156b3655990c52?ea0c","webpack:///./lib/pigeon.ts?cdbd"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","EventBus","this","_callbacks","prototype","list","publish","channel","_this","args","_i","arguments","length","callbacks","size","forEach","cb","apply","subscribe","callback","push","idx","indexOf","splice","eventBusService"],"mappings":";;;;;;;;;CASS,SAAUA,GCLnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDeM,SAASI,EAAQD,SAEtB,YEvCD,IAAAQ,GAAA,WAaE,QAAAA,KACEC,KAAKC,cAqDT,MA7CSF,GAAAG,UAAAC,KAAP,WACE,MAAOH,MAAKC,YASPF,EAAAG,UAAAE,QAAP,SAAeC,GAAf,GAAAC,GAAAN,IACE,OAAO,YFsCE,IEtCD,GAAAO,MAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,EACN,IAAIG,GAAYL,EAAKL,WAAWI,OAC5BO,EAAOD,EAAUD,MAErB,OADAC,GAAUE,QAAQ,SAAAC,GAAM,MAAAA,GAAEC,MAAA,OAAIR,KACvBK,EAAOD,EAAUD,SAUrBX,EAAAG,UAAAc,UAAP,SAAiBX,GAAjB,GAAAC,GAAAN,IACE,OAAO,UAACiB,GACN,GAAIN,GAAYL,EAAKL,WAAWI,KAAaC,EAAKL,WAAWI,MAI7D,OAHAM,GAAUO,KAAKD,GAGR,WACL,GAAIE,GAAMR,EAAUS,QAAQH,EAS5B,OARIE,IAAO,GACTR,EAAUU,OAAOF,EAAK,GAGC,IAArBR,EAAUD,cACLJ,GAAKL,WAAWI,GAGlBc,GAAO,KAItBpB,IAnEaR,SAAAQ,SAAQA,EAwEVR,QAAA+B,gBAAkB,GAAIvB","file":"pigeon.min.js","sourcesContent":["/*!\n *  @name           pigeon\n *  @description    \n * \n *  @version        1.0.0\n *  @author         gery.hirschfeld@w3tec.ch\n *  @license        MIT\n * \n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * This is the EventBus service. This service isn't bound to the NG dependency/injection system\n\t *\n\t * @export\n\t * @class EventBus\n\t */\n\tvar EventBus = (function () {\n\t    /**\n\t     * Creates an instance of EventBus.\n\t     */\n\t    function EventBus() {\n\t        this._callbacks = {};\n\t    }\n\t    /**\n\t     * Returns a list off all currently registerd callbacks\n\t     *\n\t     * @returns {{ [event: string]: IEventBusCallback[] }}\n\t     */\n\t    EventBus.prototype.list = function () {\n\t        return this._callbacks;\n\t    };\n\t    /**\n\t     * Let's you publishes an event to a specific channel\n\t     *\n\t     * @param {string} channel\n\t     * @returns {(...args) => boolean}\n\t     */\n\t    EventBus.prototype.publish = function (channel) {\n\t        var _this = this;\n\t        return function () {\n\t            var args = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                args[_i - 0] = arguments[_i];\n\t            }\n\t            var callbacks = _this._callbacks[channel] || [];\n\t            var size = callbacks.length;\n\t            callbacks.forEach(function (cb) { return cb.apply(void 0, args); });\n\t            return size < callbacks.length;\n\t        };\n\t    };\n\t    /**\n\t     * Let's you subscribe to a specific channel\n\t     *\n\t     * @param {string} channel\n\t     * @returns {(callback: IEventBusCallback) => () => boolean}\n\t     */\n\t    EventBus.prototype.subscribe = function (channel) {\n\t        var _this = this;\n\t        return function (callback) {\n\t            var callbacks = _this._callbacks[channel] || (_this._callbacks[channel] = []);\n\t            callbacks.push(callback);\n\t            // destroy function\n\t            return function () {\n\t                var idx = callbacks.indexOf(callback);\n\t                if (idx >= 0) {\n\t                    callbacks.splice(idx, 1);\n\t                }\n\t                if (callbacks.length === 0) {\n\t                    delete _this._callbacks[channel];\n\t                }\n\t                return idx >= 0;\n\t            };\n\t        };\n\t    };\n\t    return EventBus;\n\t}());\n\texports.EventBus = EventBus;\n\t/**\n\t * Export the Service\n\t */\n\texports.eventBusService = new EventBus();\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** pigeon.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8d3581156b3655990c52\n **/","/**\n * The EventBus callback interface\n *\n * @export\n * @interface IEventBusCallback\n */\nexport interface IEventBusCallback {\n  (...args): void;\n}\n\n/**\n * This is the EventBus service. This service isn't bound to the NG dependency/injection system\n *\n * @export\n * @class EventBus\n */\nexport class EventBus {\n\n  /**\n   * A list off all callbacks registered\n   *\n   * @private\n   * @type {{ [event: string]: IEventBusCallback[] }}\n   */\n  private _callbacks: { [event: string]: IEventBusCallback[] };\n\n  /**\n   * Creates an instance of EventBus.\n   */\n  constructor() {\n    this._callbacks = {};\n  }\n\n  /**\n   * Returns a list off all currently registerd callbacks\n   *\n   * @returns {{ [event: string]: IEventBusCallback[] }}\n   */\n  public list(): { [event: string]: IEventBusCallback[] } {\n    return this._callbacks;\n  }\n\n  /**\n   * Let's you publishes an event to a specific channel\n   *\n   * @param {string} channel\n   * @returns {(...args) => boolean}\n   */\n  public publish(channel: string): (...args) => boolean {\n    return (...args) => {\n      let callbacks = this._callbacks[channel] || [];\n      let size = callbacks.length;\n      callbacks.forEach(cb => cb(...args));\n      return size < callbacks.length;\n    };\n  }\n\n  /**\n   * Let's you subscribe to a specific channel\n   *\n   * @param {string} channel\n   * @returns {(callback: IEventBusCallback) => () => boolean}\n   */\n  public subscribe(channel: string): (callback: IEventBusCallback) => () => boolean {\n    return (callback: IEventBusCallback) => {\n      let callbacks = this._callbacks[channel] || (this._callbacks[channel] = []);\n      callbacks.push(callback);\n\n      // destroy function\n      return () => {\n        let idx = callbacks.indexOf(callback);\n        if (idx >= 0) {\n          callbacks.splice(idx, 1);\n        }\n\n        if (callbacks.length === 0) {\n          delete this._callbacks[channel];\n        }\n\n        return idx >= 0;\n      };\n    };\n  }\n}\n\n/**\n * Export the Service\n */\nexport var eventBusService = new EventBus();\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./lib/pigeon.ts\n **/"],"sourceRoot":""}